---
import { Image } from "astro:assets";
import img1 from "../../assets/images/AsphaltStorage/ATG1.webp";
import img3 from "../../assets/images/AsphaltStorage/ATG2.webp";
import img4 from "../../assets/images/AsphaltStorage/ASafety3.webp";
import ASProv2 from "../../assets/images/AsphaltStorage/MngrsTqe4.webp";
import img6 from "../../assets/images/AsphaltStorage/ASafety.webp";
import ASGallery from "./ASGallery.astro";
import SeparatorBlue from "../unitComponents/SeparatorBlue.astro";
import sideP from "../../assets/images/DrumMixers/sideP.webp";
---

<section class="w-full mt-10 flex flex-col gap-10">
    <div
        class="w-full flex flex-col items-center justify-center font-bold mt-10"
    >
        <div class="w-full space-y-3 my-6">
            <div class="h-0.5 bg-redBg w-1/5 self-start"></div>
            <div class="h-0.5 bg-blueMain w-1/4 pr-6 self-start"></div>
        </div>

        <div class="max-w-7xl px-8 mx-auto flex justify-center">
            <Image src={img6} alt="Image of an Asphalt Storage Tank inside the production facility" class="hero-img lg:w-4/5 rounded-lg" />
        </div>

        <div
            class="max-w-7xl px-8 mx-auto flex flex-col md:flex-row items-center gap-6"
        >
            <div class="w-full hidden lg:flex md:w-auto">
                <Image
                    src={ASProv2}
                    alt="Front of the Asphalt Storage Tank"
                    class="side-img rounded-2xl will-change-transform"
                />
            </div>
            <div class="w-full mt-10 space-y-6">
                <h2 class="font-bold text-xl md:text-2xl text-redBg">
                    SAFETY AND COMPLIANCE IN DESIGN <br />AND TRANSPORT
                </h2>
                <h1 class="font-bold">
                    DOT-Compliant Design for Safe Transport
                </h1>
                <p class="font-normal">
                    Triaso® asphalt tanks—both vertical and portable horizontal
                    models—are engineered with DOT-compliant features to meet
                    transportation safety regulations. Portable tanks include
                    secure hitches, lighting systems, heavy-duty axles, and
                    braking components that align with Department of
                    Transportation (DOT) standards, ensuring safe and legal road
                    transport.
                </p>

                <h1 class="font-bold">
                    OSHA-Compliant Railings for Vertical and Horizontal Asphalt
                    Tanks
                </h1>
                <p class="font-normal">
                    All Triaso® vertical and horizontal asphalt tanks are
                    equipped with OSHA-compliant railings to ensure operator
                    safety during access and maintenance. Each tank includes
                    safety handrails, kick plates, and secure platforms designed
                    to meet strict safety standards.
                </p>
            </div>
        </div>

        <div
            class="max-w-7xl hidden px-8 lg:flex justify-center lg:justify-end"
        >
            <Image
                src={img4}
                alt="Asphalt Tank with a Oil Heater installed"
                class="fade-img rounded-lg lg:w-3/5 will-change-transform"
            />
        </div>

        <div class="w-full overflow-hidden relative flex flex-col lg:hidden">
            <Image
                src={img4}
                alt="Asphalt Tank with a Oil Heater installed"
                class="rounded-2xl w-[60%] translate-x-[200px] translate-y-5"
            />

            <Image
                src={ASProv2}
                alt="Front of the Asphalt Storage Tank"
                class="absolute top-0 left-0 w-[40%] rounded-lg translate-x-1 translate-y-2"
            />
        </div>
    </div>

    <div class="mt-10 lg:mt-0 md:mt-0">
        <ASGallery />
    </div>
    <div
        class="w-full grid grid-cols-1 md:grid-cols-2 gap-10 max-w-7xl px-8 mx-auto"
    >
        <div class="w-full flex flex-col gap-4">
            <h1 class="font-bold text-xl md:text-2xl px-8"></h1>
        </div>
        <div class="w-full flex flex-col gap-10 md:gap-20">
            <div class="w-full bg-blueMain text-white p-4 rounded-2xl">
                <div
                    class="p-4 flex justify-center items-center"
                    id="slider-container"
                    data-img1={img1.src}
                    data-img2={img3.src}
                >
                    <Image
                        id="miImagen"
                        src={img1}
                        alt="Asphalt storage tank modified for a specific need"
                        class="w-full max-w-[300px] md:max-w-[600px] max-h-[250px] object-contain"
                    />
                </div>
                <div class="w-full flex justify-end gap-3">
                    <button
                        id="btnAnterior"
                        class="bg-grisSubP rounded-full p-1 hover:bg-[#BDBDBD]"
                    >
                        <svg
                            width="24px"
                            height="24px"
                            stroke-width="1.5"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            color="#000000"
                            ><path
                                d="M15 6L9 12L15 18"
                                stroke="#000000"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"></path></svg
                        >
                    </button>
                    <button
                        id="btnSiguiente"
                        class="bg-grisSubP rounded-full p-1 hover:bg-[#BDBDBD]"
                    >
                        <svg
                            width="24px"
                            height="24px"
                            stroke-width="1.5"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            color="#000000"
                            ><path
                                d="M9 6L15 12L9 18"
                                stroke="#000000"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"></path></svg
                        >
                    </button>
                </div>
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold">
                        Fully Versatile and <br />Customizable
                    </h1><br />
                    <p class="text-[#bfbfbf]">
                        Our asphalt tanks are designed to meet your specific
                        needs. We can fully customize them, from color and
                        capacity to the type of heating system and intended use.
                        Whether you need a standard solution or a tailor-made
                        design, we ensure your tank is built to fit your exact
                        requirements—with the option of stationary vertical
                        asphalt tanks or mobile asphalt tanks.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="max-w-7xl px-8 mx-auto flex flex-col gap-10">
        <div class="w-full flex justify-between font-bold text-2xl md:text-3xl">
            <div>
                <h1 class="text-grisT">AESTHETIC SIDE PANELS</h1>
                <SeparatorBlue />
            </div>
            <div>
                <h1 class="text-end text-blueMain">
                    ENHANCE YOUR COMPANY IMAGE <br />
                    WITH TRIASO DESIGN
                </h1>
            </div>
        </div>
        <p class="font-bold text-grisT text-base md:text-lg text-justify">
            Triaso’s aesthetic side panels are designed not just for visual
            appeal, but to elevate the professional image of your equipment and
            company. These original side panels provide a clean, modern look
            that reflects quality and attention to detail—leaving a strong
            impression on clients, inspectors, and the public, but also protect
            internal components from dust, weather, and debris. Ideal for
            projects in urban or high-visibility areas, they reinforce your
            brand’s commitment to excellence and enhance the overall
            presentation of your asphalt storage tank.
        </p>
        <div>
            <Image src={sideP} alt="Aesthetic Side Panel" />
        </div>
    </div>
</section>

<script>
    import { initScrollAnimations } from "../../components/DrumMixers/scrollAnimations";

    if (typeof window !== "undefined") {
        window.addEventListener("DOMContentLoaded", () => {
            initScrollAnimations();
        });
    }
</script>

<script is:inline>
    const container = document.getElementById("slider-container");

    const imagenes = [container.dataset.img1, container.dataset.img2];

    let index = 0;

    const img = document.getElementById("miImagen");
    const btnAnterior = document.getElementById("btnAnterior");
    const btnSiguiente = document.getElementById("btnSiguiente");

    btnAnterior.addEventListener("click", () => {
        index = (index - 1 + imagenes.length) % imagenes.length;
        img.src = imagenes[index];
    });

    btnSiguiente.addEventListener("click", () => {
        index = (index + 1) % imagenes.length;
        img.src = imagenes[index];
    });
</script>
