---
import Card from "../unitComponents/Card.astro";
import redT from '../../assets/images/AsphaltStorage/redT.png';
import oil1 from '../../assets/images/AsphaltPlant/oil1.png';
import img4 from '../../assets/images/AsphaltPlant/silos2.png';
import Image from "astro/components/Image.astro";
import Whatsbtn from '../../components/unitComponents/Whatsbtn.astro';
import GallerySlider from "../unitComponents/GallerySlider";
import type { slide } from "astro:transitions";
import SeparatorBlue from "../unitComponents/SeparatorBlue.astro";


const tanksSlides = [
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage/P-3a.webp',
    caption: 'Tanque de asfalto de 60,000 lts, plus, con caldera, con normas para Estados Unidos, en posición de trabajo',
  },
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage/P-3b.webp',
    caption: 'Tanque de asfalto de 60,000 lts, plus, con caldera, con normas para Estados Unidos, en posición de trabajo',
  },
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage/P-3c.webp',
    caption: 'Tanque de asfalto de 25,000 lts, plus, con caldera, con normas para Estados Unidos, en posición de trabajo',
  },
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage/P-3d.webp',
    caption: 'Tanque de asfalto de 25,000 lts, plus, con caldera, con normas para Estados Unidos, en posición de trabajo',
  },
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage/P-3e.webp',
    caption: 'Tanque de asfalto de 16,000 galones, plus, con caldera, con normas para Estados Unidos, en posición de trabajo',
  },
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage/P-3f.webp',
    caption: 'Tanque de asfalto de 16,000 galones, plus, con caldera, con normas para Estados Unidos, en posición de trabajo',
  }
];
const tanksSlides2 = [
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage2/DFAT1.png',
    caption: 'Tanque de asfalto de 60,000 lts, plus.',
  },
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage2/DFAT2.png',
    caption: 'Tanque de asfalto de 60,000 lts, plus.',
  },
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage2/DFAT3.png',
    caption: 'Tanque de asfalto de 60,000 lts, plus.',
  },
  {
    image: 'src/assets/images/AsphaltStorage/SliderStorage2/DFAT4.png',
    caption: 'Tanque de asfalto de 60,000 lts, plus.',
  }
];
---
<section class="w-full flex mt-10 md:mt-20 flex-col items-center justify-center gap-4 bg-gray-100" data-tabs>
    <div class="flex flex-col items-center justify-center w-full gap-4 mt-8">
        <div class="flex items-center justify-around w-full gap-4 px-8">
            <button class="text-xl md:text-4xl tab-button py-2 md:px-4 font-bold focus:outline-none"
            data-tab="tab1" aria-selected="true">
                Oil Heating
            </button>
            <button class="tab-button py-2 md:px-4 font-bold text-xl md:text-4xl focus:outline-none"
            data-tab="tab2" aria-selected="false">
                Direct Fire Heating
            </button>
        </div>
        <div class="py-4 flex justify-center items-center">
            <!-- First Section -->
            <div class="w-full flex flex-col items-center justify-center gap-4 mt-4 tab-content text-base md:text-lg text-grisT font-bold" data-tab-content="tab1">
                <div class="w-full px-8 md:px-52">
                  <p class="text-justify">
                    Designed for precise temperature control, the oil heater ensures uniform heat distribution through advanced thermal oil 
                    circulation. Its robust construction supports continuous operation, making it ideal for demanding applications that require
                     consistent performance and energy efficiency.
                  </p>
                </div><br>
                <GallerySlider client:only slides={tanksSlides} visibleThumbs={6}/>
                <div class="w-full px-8 md:px-72 grid grid-cols-1 md:grid-cols-2 gap-10">
                  <div class="w-full bg-grisT flex flex-col gap-6 p-8 rounded-xl">
                    <div class="w-full flex justify-center">
                      <img src={oil1.src} alt="">
                    </div>
                    <div class="w-full flex justify-between items-center">
                      <h1 class="text-white text-xl md:text-2xl">Oil Heater</h1>
                      <button>
                          <svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#ffffff" stroke-width="1.6"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2.25C2.85442 2.25 2.25 2.85441 2.25 3.6V20.4C2.25 21.1456 2.85441 21.75 3.6 21.75H20.4C21.1456 21.75 21.75 21.1456 21.75 20.4V3.6C21.75 2.85442 21.1456 2.25 20.4 2.25H3.6ZM12.75 9C12.75 8.58579 12.4142 8.25 12 8.25C11.5858 8.25 11.25 8.58579 11.25 9V11.25H9C8.58579 11.25 8.25 11.5858 8.25 12C8.25 12.4142 8.58579 12.75 9 12.75H11.25V15C11.25 15.4142 11.5858 15.75 12 15.75C12.4142 15.75 12.75 15.4142 12.75 15V12.75H15C15.4142 12.75 15.75 12.4142 15.75 12C15.75 11.5858 15.4142 11.25 15 11.25H12.75V9Z" fill="#ffffff"></path></svg>
                      </button>
                    </div>
                  </div>
                  <div class="w-full bg-grisT flex flex-col gap-6 p-8 rounded-xl">
                    <div class="w-full flex justify-center">
                      <img src={oil1.src} alt="">
                    </div>
                    <div class="w-full flex justify-between items-center">
                      <h1 class="text-white text-xl md:text-2xl">Hot Oil Coils</h1>
                      <button id="openModalBtn" class="bg-blue-700 hover:bg-blue-600 p-3 rounded-lg transition">
                        <svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#ffffff" stroke-width="1.6"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2.25C2.85442 2.25 2.25 2.85441 2.25 3.6V20.4C2.25 21.1456 2.85441 21.75 3.6 21.75H20.4C21.1456 21.75 21.75 21.1456 21.75 20.4V3.6C21.75 2.85442 21.1456 2.25 20.4 2.25H3.6ZM12.75 9C12.75 8.58579 12.4142 8.25 12 8.25C11.5858 8.25 11.25 8.58579 11.25 9V11.25H9C8.58579 11.25 8.25 11.5858 8.25 12C8.25 12.4142 8.58579 12.75 9 12.75H11.25V15C11.25 15.4142 11.5858 15.75 12 15.75C12.4142 15.75 12.75 15.4142 12.75 15V12.75H15C15.4142 12.75 15.75 12.4142 15.75 12C15.75 11.5858 15.4142 11.25 15 11.25H12.75V9Z" fill="#ffffff"></path></svg>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="w-full grid grid-cols-1 md:grid-cols-2 gap-x-[20%] gap-y-6 pr-0 md:pr-32">
                    <Card>
                        <h3>Precision Temperature Control:</h3>
                        <p class="font-thin">
                            Maintains exact temperatures with a tolerance of ±1°C, ensuring optimal conditions for material processing.
                        </p>
                    </Card>
                    <Card>
                        <h3>Customizable Heating Capacity: 
                            </h3>
                        <p class="font-thin">
                            Tailored to meet specific project needs, from small-scale operations to large industrial requirements.
                        </p>
                    </Card>
                    <Card>
                        <h3>High-Efficiency Burners: 
                            </h3>
                        <p class="font-thin">
                            Equipped with low-NOx burners that reduce emissions while maximizing fuel efficiency.
                        </p>
                    </Card>
                    <Card>
                        <h3>Thermal Oil Circulation System: 
                            </h3>
                        <p class="font-thin">
                            Ensures even heat distribution across the entire system, preventing hot spots and material degradation.
                        </p>
                    </Card>
                </div>
                 <div id="modalOverlay" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
    <div class="bg-white rounded-xl shadow-lg p-6 w-11/12 max-w-md relative">
      
      <!-- Botón cerrar -->
      <button id="closeModalBtn" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
      
      <h2 class="text-xl font-semibold mb-4">Oil Heater</h2>
      <p class="text-gray-700">• With heating capacities of 1,000,000 and 2,400,000 Btu/Hr.
 • Includes a high-efficiency 2” diameter coil system inside the asphalt tank.
 • Connections for asphalt tankers with coil heating systems.
 • Thermally insulated with ceramic fiber.
 • Stainless steel exterior sheet covering.
 • Equipped with a diesel burner.
 • Automatic on/off control based on temperature.
 • Two operating modes: Automatic and Manual.
 • Digital thermometers with programmable set point for burner activation and shutoff.
 • Siemens PLC-based control system.
 • 100-liter (26.4-gallon) thermal oil expansion tank.
 • 100% duty cycle.
 • Includes safety systems and automatic shutdown in case of errors.</p>
    </div>
  </div>
  </div>
                
             </div>
        <!-- Second Section -->
            <div class="w-full flex flex-col items-center justify-center gap-10 mt-4 tab-content text-base md:text-lg text-grisT font-bold" data-tab-content="tab2">
                <p class="px-52 text-center">
                  Triaso® direct fire heating is designed to heat up the asphalt. A burner is mounted directly beneath the tank, transferring heat through a steel plate into the asphalt.
                  This method provides fast, efficient heating with minimal energy loss.
                </p>
                <GallerySlider client:only slides={tanksSlides2} visibleThumbs={4}/>
                    
            </div>
        </div>
           
    </div>
</section>
<style is:global>
  /* Estilos para los tabs activos */
  .tab-button[aria-selected="true"] {
    color: black;
    border-bottom: 2px solid var(--rojo-btn);
  }
  
  .tab-button[aria-selected="false"] {
    color: var(--gris-titulos);
    font-weight: normal;
    border-bottom: 2px solid var(--gris-titulos);
  }
  
  .tab-button:hover:not([aria-selected="true"]) {
    color: black;
    border-bottom: 2px solid var(--rojo-btn);
  }
  
</style>
<script is:inline>
    (function initTabs() {
      document.querySelectorAll('section[data-tabs]').forEach(tabSection => {
        const tabButtons = tabSection.querySelectorAll('.tab-button');
        const tabContents = tabSection.querySelectorAll('.tab-content');
    
        // Ocultar todos menos el primero
        const selectedTab = tabSection.querySelector('.tab-button[aria-selected="true"]');
const selectedTabId = selectedTab?.getAttribute('data-tab');

tabContents.forEach(content => {
  const contentTabId = content.getAttribute('data-tab-content');
  content.classList.toggle('hidden', contentTabId !== selectedTabId);
});

    
        tabButtons.forEach(button => {
          button.addEventListener('click', () => {
            const tabId = button.getAttribute('data-tab');
    
            tabButtons.forEach(btn => btn.setAttribute('aria-selected', 'false'));
            button.setAttribute('aria-selected', 'true');
    
            tabContents.forEach(content => {
              content.classList.add('hidden');
            });
    
            const activeContent = tabSection.querySelector(`.tab-content[data-tab-content="${tabId}"]`);
            if (activeContent) activeContent.classList.remove('hidden');
          });
        });
      });
    })();
    </script>
    <script is:inline>
    const openModalBtn = document.getElementById("openModalBtn");
    const closeModalBtn = document.getElementById("closeModalBtn");
    const modalOverlay = document.getElementById("modalOverlay");

    // Abrir modal
    openModalBtn.addEventListener("click", () => {
      modalOverlay.classList.remove("hidden");
    });

    // Cerrar modal
    closeModalBtn.addEventListener("click", () => {
      modalOverlay.classList.add("hidden");
    });

    // Cerrar modal al hacer clic fuera del contenido
    modalOverlay.addEventListener("click", (e) => {
      if (e.target === modalOverlay) {
        modalOverlay.classList.add("hidden");
      }
    });
  </script>
    